{% macro nav_link(url, title, page, is_unilingual=true) %}
  {% set current_url = page.url if is_unilingual else page.url | replace('/' + page.lang + '/', '/') %}
  {% set link_url = '/' + url if url else '/' %}
  <li class="nav-item">
    <a href="{{ link_url }}" class="nav-link{% if current_url == link_url %} active fw-bold{% endif %}"{% if current_url == link_url %} aria-current="page"{% endif %}>
      {{ title }}
    </a>
  </li>
{% endmacro %}

{% macro sidebar_nav(navigation, page) %}
<div class="col-12 col-lg-3">
    <nav class="sticky-lg-top pt-3" style="top: 2rem;">
        <div class="list-group">
            <a href="/" class="list-group-item list-group-item-action{% if page.url == '/' %} active{% endif %}">
                {{ t.home }}
            </a>

            {# Fondamentaux #}
            <div class="list-group-item list-group-item-secondary">Fondamentaux</div>
            <a href="/composants/conteneurs" class="list-group-item list-group-item-action{% if '/composants/conteneurs' in page.url %} active{% endif %}">
                Conteneurs
            </a>
            <a href="/composants/grille" class="list-group-item list-group-item-action{% if '/composants/grille' in page.url %} active{% endif %}">
                Grille
            </a>
            <a href="/composants/typographie" class="list-group-item list-group-item-action{% if '/composants/typographie' in page.url %} active{% endif %}">
                Typographie
            </a>
            <a href="/composants/images" class="list-group-item list-group-item-action{% if '/composants/images' in page.url %} active{% endif %}">
                Images
            </a>
            <a href="/composants/figures" class="list-group-item list-group-item-action{% if '/composants/figures' in page.url %} active{% endif %}">
                Figures
            </a>

            {# Composants de base #}
            <div class="list-group-item list-group-item-secondary">Composants de base</div>
            <a href="/composants/accordeon" class="list-group-item list-group-item-action{% if '/composants/accordeon' in page.url %} active{% endif %}">
                Accordéon
            </a>
            <a href="/composants/alertes" class="list-group-item list-group-item-action{% if '/composants/alertes' in page.url %} active{% endif %}">
                Alertes
            </a>
            <a href="/composants/badges" class="list-group-item list-group-item-action{% if '/composants/badges' in page.url %} active{% endif %}">
                Badges
            </a>
            <a href="/composants/boutons" class="list-group-item list-group-item-action{% if '/composants/boutons' in page.url %} active{% endif %}">
                Boutons
            </a>
            <a href="/composants/cartes" class="list-group-item list-group-item-action{% if '/composants/cartes' in page.url %} active{% endif %}">
                Cartes
            </a>
            <a href="/composants/carrousel" class="list-group-item list-group-item-action{% if '/composants/carrousel' in page.url %} active{% endif %}">
                Carrousel
            </a>
            <a href="/composants/icones" class="list-group-item list-group-item-action{% if '/composants/icones' in page.url %} active{% endif %}">
                Icônes
            </a>
            <a href="/composants/listes-groupes" class="list-group-item list-group-item-action{% if '/composants/listes-groupes' in page.url %} active{% endif %}">
                Listes groupées
            </a>
            <a href="/composants/spinners" class="list-group-item list-group-item-action{% if '/composants/spinners' in page.url %} active{% endif %}">
                Spinners
            </a>
            <a href="/composants/tooltips" class="list-group-item list-group-item-action{% if '/composants/tooltips' in page.url %} active{% endif %}">
                Tooltips
            </a>

            {# Navigation et menus #}
            <div class="list-group-item list-group-item-secondary">Navigation</div>
            <a href="/composants/ariane" class="list-group-item list-group-item-action{% if '/composants/ariane' in page.url %} active{% endif %}">
                Fil d'Ariane
            </a>
            <a href="/composants/menus-deroulants" class="list-group-item list-group-item-action{% if '/composants/menus-deroulants' in page.url %} active{% endif %}">
                Menus déroulants
            </a>
            <a href="/composants/navigation" class="list-group-item list-group-item-action{% if '/composants/navigation' in page.url %} active{% endif %}">
                Barre de navigation
            </a>

            {# Formulaires et interactions #}
            <div class="list-group-item list-group-item-secondary">Formulaires et interactions</div>
            <a href="/composants/formulaires" class="list-group-item list-group-item-action{% if '/composants/formulaires' in page.url %} active{% endif %}">
                Formulaires
            </a>
            <a href="/composants/modales" class="list-group-item list-group-item-action{% if '/composants/modales' in page.url %} active{% endif %}">
                Modales
            </a>
            <a href="/composants/popovers" class="list-group-item list-group-item-action{% if '/composants/popovers' in page.url %} active{% endif %}">
                Popovers
            </a>

            {# Mise en page et données #}
            <div class="list-group-item list-group-item-secondary">Mise en page et données</div>
            <a href="/composants/barres-progression" class="list-group-item list-group-item-action{% if '/composants/barres-progression' in page.url %} active{% endif %}">
                Barres de progression
            </a>
            <a href="/composants/tableaux" class="list-group-item list-group-item-action{% if '/composants/tableaux' in page.url %} active{% endif %}">
                Tableaux
            </a>
        </div>
    </nav>
</div>
{% endmacro %}
